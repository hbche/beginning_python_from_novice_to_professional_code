## 第 2 章 列表和元组

### 2.1 序列概述

### 2.2 通用的列表操作

#### 2.2.1 索引

#### 2.2.2 切片

1. 绝妙的简写
2. 更大的步长

#### 2.2.3 序列相加

#### 2.2.4 乘法

1. None、空列表和初始化

#### 2.2.5 成员资格

### 2.3 列表：Python 的主力

#### 2.3.1 函数 list

鉴于不能像修改列表那样修改字符串，因此在有些情况下使用字符串创建列表很有帮助。

```bash
>>> list('Hello')
['H', 'e', 'l', 'l', 'o']
```

> 提示：将字符列表转换成字符串，可使用下面的表达式： `''.join(somelist)`，其中 somelist 是要转换的列表。

#### 2.3.2 基本的列表操作

1. 修改列表：给元素赋值

```python
numbers = [1, 1, 1]
numbers[1] = 2
```

> 不能给不存在的元素赋值，因此如果列表的长度是 2，就不能给索引为 100 的元素赋值。

2. 删除元素

使用 del 语句删除列表中的元素：

```python
names = ['Albert', 'Beth', 'Cecil', 'Dee-Dee', 'Earl']
del names[2]
```

3. 给切片赋值：实现插入、替换

```python
name = list('Perl')
name[:2] = list('ar')
name
# ['P', 'e', 'a', 'r']
```

可同时给多个元素赋值：

```python
name = list('Perl')
name[1:] = list('ython')
name
# ['P', 'y', 't', 'h', 'o', 'n']
```

使用切片赋值还给在不替换原有元素的情况下插入新元素。

```python
numbers = [1, 5]
numbers[1:1] = [2, 3, 4]
numbers
# [1, 2, 3, 4, 5]
```

对切片赋值空数组，可以删除对应的元素：

```python
numbers = [1, 2, 3, 4, 5]
numbers[1:4] = []   # 等效于 del numbers[1:4]
numbers
# [1, 5]
len(numbers)
# 2
```

#### 2.3.3 列表方法

方法是与对象紧密联系的函数。

1. append: arr.append(item) 在列表末尾追加元素
2. clear: arr.clear() 清空列表的内容
3. copy: arr.copy() 复制列表
4. count: arr.count(item) 计算给定元素在列表中出现多少次
5. extend: arr.extend(arr2) 同时将多个值附加到列表结尾
6. index: arr.index(item) 在列表中查找指定值第一次出现的索引
7. insert: arr.insert(index, item) 在指定索引位置插入一个值
8. pop: arr.pop() 从列表结尾删除一个元素，并返回这一元素
9. remove: arr.remove(item) 用于删除列表中第一个命中给定值的元素
10. reverse: arr.reverse() 按相反顺序排列列表中的元素，直接修改原列表
11. sort: 用于对列表进行排序操作，直接在原始列表上进行排序操作，无返回值。sorted: 对列表排序并返回排序后的列表，不改变原始列表
12. 高级排序

### 2.4 元组：不可修改的序列

与列表一样，元组也是序列，唯一的区别是元组是**不能修改的**。

创建元组：

```python
(1, 2, 3)
```

创建只有一个元素的元组：

```python
(1,)
```

> 只有一个元素的元组，结尾的逗号不能省略，否则就会解析成表达式

```python
3 * (40 + 2) # 126
3 * (40 + 2,) # (42, 42, 42)
```

函数 `tuple` 的工作原理和 list 很像：他将一个序列作为参数，将其转换为元组。如果参数已经是一个元组，就原封不动地返回它。

```python
tuple([1, 2, 3])
# (1, 2, 3)
tuple('abc')
# ('a', 'b', 'c')
tuple((1, 2, 3))
# (1, 2, 3)
```
